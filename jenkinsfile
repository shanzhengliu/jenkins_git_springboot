pipeline {
    agent any
    environment {
        BUILD_ID='dontKillMe'
        MAVEN_HOME='/www/maven-3.3'
        MAVEN_BIN = '/www/maven-3.3/bin'
    }
    stages {
        stage('KILL PROCESS') {
            steps {
               echo "KILL PROCESS"
               sh '/www/wwwroot/src/app.sh stop'
            }
        }
         stage('BUILD PROJECT') {
            steps {
              echo "BUILD PROJECT"
              sh "cd /www/wwwroot/src/spring_pineline"
              sh '/www/maven-3.3/bin/mvn install'
            }
         }
        stage('PACKAGE PROJECT') {
                 steps {
                   echo "PACKAGE PROJECT"
                   sh "cd /www/wwwroot/src/spring_pineline"
                   sh '/www/maven-3.3/bin/mvn package'
                 }
              }
         stage('RUN PROJECT') {
             steps {
               sh '/www/wwwroot/src/app.sh start'
             }
         }
    }
}
